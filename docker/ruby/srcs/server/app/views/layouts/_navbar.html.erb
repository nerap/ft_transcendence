<nav id="navbar">
    <ul class="navbar-options" style="text-align: center;">
        <% if user_signed_in? %>
            <li><a href="/#" style="width:100px;">home</a></li
            ><li><a class="slide-down-menu" style="width:100px;">play</a>
            <div class="slide-down-options option-pong">
                <a>start pong game</a>
                <a>tournament</a>
            </div></li
            ><li><a href="/#chatrooms" class="slide-down-menu" style="width:100px;">social</a></li
            ><li><a href="/#users" class="slide-down-menu" style="width:100px;">members</a></li
            ><li><a class="slide-down-menu" style="width:100px;">guilds</a></li
            ><li><a class="slide-down-menu" style="padding-left:10px;padding-right:10px;"><%= truncate(current_user.username, length:15) %></a>
            <div class="slide-down-options option-user">
                <a href="/#users/<%= current_user.id %>">see profile</a>
                <a>private messages</a>
                <a>my friends</a>
                <a>my guild</a>
                <form action="/users/sign_out" method="post" data-remote="true">
                    <input type="hidden" name="_method" value="delete">
                    <input type="submit" name="commit" value="log out">
                </form>
            </div></li>
        <% else %>
            <li><a href="/#" style="width:100px;">home</a></li
            ><li><a href="/users/sign_in" style="width:100px">sign in</a></li
            ><li><a href="/users/sign_up" style="width:100px">sign up</a></li
            ><li></li>
        <% end %>
    </ul>
</nav>

<script type="text/javascript">
    $(document).on("click", function () {
        $(".slide-down-options").hide();
    });
    $(".slide-down-options").on("click", function (event) {
        event.stopPropagation();
    });
    $(".slide-down-menu").on("click", function (event) {
        if (!$(event.target).next(event.target.nextElementSibling).is(":visible"))
            $(".slide-down-options").hide();
        event.stopPropagation();
        $(event.target).next(event.target.nextElementSibling).slideToggle("fast");
    });
</script>
