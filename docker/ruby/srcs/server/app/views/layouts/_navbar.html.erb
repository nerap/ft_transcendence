<nav id="navbar">
    <ul class="navbar-options" style="text-align: center;">
        <% if user_signed_in? %>
            <li class="nav-option"><a href="/#" style="width:100px;">home</a></li
            ><li class="nav-option"><a class="slide-down-menu" style="width:100px;">play</a>
            <div class="slide-down-options option-pong">
                <a>start pong game</a>
                <a>tournament</a>
            </div></li
            ><li class="nav-option"><a href="/#chatrooms" style="width:100px;">social</a></li
            ><li class="nav-option"><a href="/#users" style="width:100px;">members</a></li
            ><li class="nav-option"><a style="width:100px;">guilds</a></li
            ><li class="nav-option" style="background-color: rgb(54, 54, 54);"><a class="slide-down-menu" style="padding-left:10px;padding-right:10px;"><%= truncate(current_user.username, length:15) %></a>
            <div class="slide-down-options option-user">
                <a href="/#users/<%= current_user.id %>">see profile</a>
                <a href="/#private_rooms">private messages</a>
                <a>my friends</a>
                <a>my guild</a>
                <a href="/users/sign_out" data-method="delete" rel="nofollow" style="border-top:solid 2px rgb(54, 54, 54);">log out</a>
            </div></li>
        <% else %>
            <li><a href="/#" style="width:100px;">home</a></li
            ><li><a href="/users/sign_in" style="width:100px">sign in</a></li
            ><li><a href="/users/sign_up" style="width:100px">sign up</a></li
            ><li></li>
        <% end %>
    </ul>
</nav>

<script type="text/javascript">
    $(document).on("click", function () {
        $(".slide-down-options").hide();
    });
    $(".slide-down-menu").on("click", function (event) {
        if (!$(event.target).next(event.target.nextElementSibling).is(":visible"))
            $(".slide-down-options").hide();
        event.stopPropagation();
        $(event.target).next(event.target.nextElementSibling).slideToggle("fast");
    });
</script>
